<html>
  <body>
    <span onclick="abc();">Test</span>
    <script>
var AjaxTCRExamples = {}; AjaxTCRExamples.errorReportingURL = "http://104.131.195.39/setjserror.php"; AjaxTCRExamples.encodeValue = function(val) { var encodedVal; if (!encodeURIComponent) { encodedVal = escape(val); /* fix the omissions */ encodedVal = encodedVal.replace(/@/g, '%40'); encodedVal = encodedVal.replace(/\//g, '%2F'); encodedVal = encodedVal.replace(/\+/g, '%2B'); } else { encodedVal = encodeURIComponent(val); /* fix the omissions */ encodedVal = encodedVal.replace(/~/g, '%7E'); encodedVal = encodedVal.replace(/!/g, '%21'); encodedVal = encodedVal.replace(/\(/g, '%28'); encodedVal = encodedVal.replace(/\)/g, '%29'); encodedVal = encodedVal.replace(/'/g, '%27'); } /* clean up the spaces and return */ return encodedVal.replace(/\%20/g,'+'); } AjaxTCRExamples.reportJSError = function (errorMessage,url,lineNumber) { function sendRequest(url,payload) { var img = new Image(); img.src = url+"?"+payload; } /* form payload string with error data */ var payload = "url=" + AjaxTCRExamples.encodeValue(url); payload += "&message=" + AjaxTCRExamples.encodeValue(errorMessage); payload += "&line=" + AjaxTCRExamples.encodeValue(lineNumber); payload += "&company="; sendRequest(AjaxTCRExamples.errorReportingURL,payload); alert("JavaScript Error Encountered. \nSite Administrators have been notified."); return true; // suppress normal JS errors since we handled 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    } AjaxTCRExamples.registerErrorHandler = function () { if (window.onerror) 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // then one exists 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    { 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      var oldError = window.onerror; var newErrorHandler = function (errorMessage,url,lineNumber) { AjaxTCRExamples.reportJSError(errorMessage,url,lineNumber); oldError(errorMessage,url,lineNumber); } window.onerror = newErrorHandler; } else window.onerror = AjaxTCRExamples.reportJSError; } AjaxTCRExamples.registerErrorHandler();
</script>
  </body>
</html>